<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Hero Library</title>
    <style>
        .content {
        max-width: 500px;
        margin: auto;
        }
        body{
            background-image: url("https://images.unsplash.com/photo-1419640303358-44f0d27f48e7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1985&q=80");
            background-repeat: repeat-x;
            background-color: black;
            color: white;
        }
        h1 {
        font-family: Impact, sans-serif;
        color: #CE5937;
        }
    </style>
</head>
<body>
<div class="content">
<h1>Welcome to Hero Library!</h1>

    <a th:href="@{/logout}">
        <button type="button">Click here to logout</button>
    </a>

<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus alias consequatur consequuntur, dicta dolores doloribus ea exercitationem fugiat magnam magni minus molestiae nam natus nisi nostrum quod ratione similique vero.</p>


<input id="input" type="text">
<button onclick="getBooks()">Get Books</button>
<br>
<div id="output"></div>
</div>
<script>
function getBooks(){
    document.getElementById('output').innerHTML="";
    fetch("http://openlibrary.org/search.json?q="
    +document.getElementById("input").value)
    .then(a => a.json())
    .then(response =>{
        for(var i = 0 ; i < response.docs.length ; i++){
            document.getElementById("output").innerHTML+="<h2>"
            +response.docs[i].title+"</h2>"
            +response.docs[i].author_name[0]
            +"<br><img src='http://covers.openlibrary.org/b/isbn/"
            +response.docs[i].isbn[0]
            +"-M.jpg'><br>";
        }
    });
}
</script>
</body>
</html>